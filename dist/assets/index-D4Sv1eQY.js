import{a0 as pe,C as Z,P as Y,r as N,ai as fe,B as q,aj as ve,K as me,ak as ge,s as xe,p as O,m as R,g as F,_ as H,h as L,i as c,Y as Q,$ as ye,a4 as W,a5 as be,a6 as he,e as V,Z as we,b as X,X as Se,al as Pe,c as Ve,d as Ee,O as ke,t as x,am as Ce,an as w,o as Te,q as _e,x as Ae,n as k,y as G,a7 as Ie}from"./index-CMpy-K6U.js";import{V as Oe}from"./index-DNtFFwS4.js";import{m as Fe,u as Le}from"./lazy-qF6ynMiI.js";import{u as ee,V as te}from"./VIcon-tQ0Y6iFC.js";import{R as Me,V as ne,m as De,d as Ne,a as Re,e as Be,u as je,b as $e,l as ze,c as We}from"./index-Bdlz8cTJ.js";import{V as Ge}from"./VTextField-BFeajAN5.js";import{_ as Je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VInput-YENRUj6g.js";function Ke(e){return ve()?(me(e),!0):!1}function B(e){return typeof e=="function"?e():pe(e)}const Ue=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ze=Object.prototype.toString,Ye=e=>Ze.call(e)==="[object Object]",qe=()=>{};function He(e,a){function t(...n){return new Promise((l,o)=>{Promise.resolve(e(()=>a.apply(this,n),{fn:a,thisArg:this,args:n})).then(l).catch(o)})}return t}const ae=e=>e();function Qe(e=ae){const a=N(!0);function t(){a.value=!1}function n(){a.value=!0}const l=(...o)=>{a.value&&e(...o)};return{isActive:fe(a),pause:t,resume:n,eventFilter:l}}function Xe(e){return ge()}function et(e,a,t={}){const{eventFilter:n=ae,...l}=t;return q(e,He(n,a),l)}function tt(e,a,t={}){const{eventFilter:n,...l}=t,{eventFilter:o,pause:s,resume:r,isActive:p}=Qe(n);return{stop:et(e,a,{...l,eventFilter:o}),pause:s,resume:r,isActive:p}}function nt(e,a=!0,t){Xe()?Z(e,t):a?e():Y(e)}const I=Ue?window:void 0;function at(e){var a;const t=B(e);return(a=t==null?void 0:t.$el)!=null?a:t}function J(...e){let a,t,n,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,n,l]=e,a=I):[a,t,n,l]=e,!a)return qe;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(f=>f()),o.length=0},r=(f,g,v,u)=>(f.addEventListener(g,v,u),()=>f.removeEventListener(g,v,u)),p=q(()=>[at(a),B(l)],([f,g])=>{if(s(),!f)return;const v=Ye(g)?{...g}:g;o.push(...t.flatMap(u=>n.map(S=>r(f,u,S,v))))},{immediate:!0,flush:"post"}),d=()=>{p(),s()};return Ke(d),d}const _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A="__vueuse_ssr_handlers__",ot=lt();function lt(){return A in _||(_[A]=_[A]||{}),_[A]}function it(e,a){return ot[e]||a}function st(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const rt={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},K="vueuse-storage";function ut(e,a,t,n={}){var l;const{flush:o="pre",deep:s=!0,listenToStorageChanges:r=!0,writeDefaults:p=!0,mergeDefaults:d=!1,shallow:f,window:g=I,eventFilter:v,onError:u=i=>{console.error(i)},initOnMounted:S}=n,h=(f?xe:N)(typeof a=="function"?a():a);if(!t)try{t=it("getDefaultStorage",()=>{var i;return(i=I)==null?void 0:i.localStorage})()}catch(i){u(i)}if(!t)return h;const b=B(a),j=st(b),E=(l=n.serializer)!=null?l:rt[j],{pause:re,resume:$}=tt(h,()=>ue(h.value),{flush:o,deep:s,eventFilter:v});g&&r&&nt(()=>{t instanceof Storage?J(g,"storage",T):J(g,K,de),S&&T()}),S||T();function z(i,m){if(g){const y={key:e,oldValue:i,newValue:m,storageArea:t};g.dispatchEvent(t instanceof Storage?new StorageEvent("storage",y):new CustomEvent(K,{detail:y}))}}function ue(i){try{const m=t.getItem(e);if(i==null)z(m,null),t.removeItem(e);else{const y=E.write(i);m!==y&&(t.setItem(e,y),z(m,y))}}catch(m){u(m)}}function ce(i){const m=i?i.newValue:t.getItem(e);if(m==null)return p&&b!=null&&t.setItem(e,E.write(b)),b;if(!i&&d){const y=E.read(m);return typeof d=="function"?d(y,b):j==="object"&&!Array.isArray(y)?{...b,...y}:y}else return typeof m!="string"?m:E.read(m)}function T(i){if(!(i&&i.storageArea!==t)){if(i&&i.key==null){h.value=b;return}if(!(i&&i.key!==e)){re();try{(i==null?void 0:i.newValue)!==E.write(h.value)&&(h.value=ce(i))}catch(m){u(m)}finally{i?Y($):$()}}}}function de(i){T(i.detail)}return h}function oe(e,a,t={}){const{window:n=I}=t;return ut(e,a,n==null?void 0:n.localStorage,t)}const P=oe("USER_MARKER",{latitude:0,longitude:0}),U=oe("NEARBY_MARKERS",[]),ct=[{latitude:46.9481,longitude:7.4474,title:"Luxury Apartment",description:"2-bedroom apartment in Bern city center."},{latitude:47.3769,longitude:8.5417,title:"Office Space",description:"Modern office space in downtown Zurich."},{latitude:46.2044,longitude:6.1432,title:"Lakefront Villa",description:"Exclusive villa with a view of Lake Geneva."}],C=Symbol.for("vuetify:v-expansion-panel"),le=O({...R(),...Fe()},"VExpansionPanelText"),M=F()({name:"VExpansionPanelText",props:le(),setup(e,a){let{slots:t}=a;const n=H(C);if(!n)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:l,onAfterLeave:o}=Le(e,n.isSelected);return L(()=>c(Oe,{onAfterLeave:o},{default:()=>{var s;return[Q(c("div",{class:["v-expansion-panel-text",e.class],style:e.style},[t.default&&l.value&&c("div",{class:"v-expansion-panel-text__wrapper"},[(s=t.default)==null?void 0:s.call(t)])]),[[ye,n.isSelected.value]])]}})),{}}}),ie=O({color:String,expandIcon:{type:W,default:"$expand"},collapseIcon:{type:W,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...R(),...be()},"VExpansionPanelTitle"),D=F()({name:"VExpansionPanelTitle",directives:{Ripple:Me},props:ie(),setup(e,a){let{slots:t}=a;const n=H(C);if(!n)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:l,backgroundColorStyles:o}=ee(e,"color"),{dimensionStyles:s}=he(e),r=V(()=>({collapseIcon:e.collapseIcon,disabled:n.disabled.value,expanded:n.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),p=V(()=>n.isSelected.value?e.collapseIcon:e.expandIcon);return L(()=>{var d;return Q(c("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":n.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},l.value,e.class],style:[o.value,s.value,e.style],type:"button",tabindex:n.disabled.value?-1:void 0,disabled:n.disabled.value,"aria-expanded":n.isSelected.value,onClick:e.readonly?void 0:n.toggle},[c("span",{class:"v-expansion-panel-title__overlay"},null),(d=t.default)==null?void 0:d.call(t,r.value),!e.hideActions&&c(ne,{defaults:{VIcon:{icon:p.value}}},{default:()=>{var f;return[c("span",{class:"v-expansion-panel-title__icon"},[((f=t.actions)==null?void 0:f.call(t,r.value))??c(te,null,null)])]}})]),[[we("ripple"),e.ripple]])}),{}}}),se=O({title:String,text:String,bgColor:String,...De(),...Ne(),...Re(),...X(),...ie(),...le()},"VExpansionPanel"),dt=F()({name:"VExpansionPanel",props:se(),emits:{"group:selected":e=>!0},setup(e,a){let{slots:t}=a;const n=Be(e,C),{backgroundColorClasses:l,backgroundColorStyles:o}=ee(e,"bgColor"),{elevationClasses:s}=je(e),{roundedClasses:r}=$e(e),p=V(()=>(n==null?void 0:n.disabled.value)||e.disabled),d=V(()=>n.group.items.value.reduce((v,u,S)=>(n.group.selected.value.includes(u.id)&&v.push(S),v),[])),f=V(()=>{const v=n.group.items.value.findIndex(u=>u.id===n.id);return!n.isSelected.value&&d.value.some(u=>u-v===1)}),g=V(()=>{const v=n.group.items.value.findIndex(u=>u.id===n.id);return!n.isSelected.value&&d.value.some(u=>u-v===-1)});return Se(C,n),L(()=>{const v=!!(t.text||e.text),u=!!(t.title||e.title),S=D.filterProps(e),h=M.filterProps(e);return c(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":n.isSelected.value,"v-expansion-panel--before-active":f.value,"v-expansion-panel--after-active":g.value,"v-expansion-panel--disabled":p.value},r.value,l.value,e.class],style:[o.value,e.style]},{default:()=>[c("div",{class:["v-expansion-panel__shadow",...s.value]},null),c(ne,{defaults:{VExpansionPanelTitle:{...S},VExpansionPanelText:{...h}}},{default:()=>{var b;return[u&&c(D,{key:"title"},{default:()=>[t.title?t.title():e.title]}),v&&c(M,{key:"text"},{default:()=>[t.text?t.text():e.text]}),(b=t.default)==null?void 0:b.call(t)]}})]})}),{groupItem:n}}}),pt=["default","accordion","inset","popout"],ft=O({flat:Boolean,...ze(),...Pe(se(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ve(),...R(),...X(),variant:{type:String,default:"default",validator:e=>pt.includes(e)}},"VExpansionPanels"),vt=F()({name:"VExpansionPanels",props:ft(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:t}=a;const{next:n,prev:l}=We(e,C),{themeClasses:o}=Ee(e),s=V(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return ke({VExpansionPanel:{bgColor:x(e,"bgColor"),collapseIcon:x(e,"collapseIcon"),color:x(e,"color"),eager:x(e,"eager"),elevation:x(e,"elevation"),expandIcon:x(e,"expandIcon"),focusable:x(e,"focusable"),hideActions:x(e,"hideActions"),readonly:x(e,"readonly"),ripple:x(e,"ripple"),rounded:x(e,"rounded"),static:x(e,"static")}}),L(()=>c(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},o.value,s.value,e.class],style:e.style},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t,{prev:l,next:n})]}})),{next:n,prev:l}}}),mt={id:"map-container"},gt=Ce({__name:"index",setup(e){let a;const t=N(""),n=async()=>{if(t.value)try{const o=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(t.value)}&format=json`)).json();if(o.length>0){const{lat:s,lon:r}=o[0];a.setView([parseFloat(s),parseFloat(r)],13)}else alert("Location not found!")}catch(l){console.error("Error searching location:",l)}};return Z(()=>{navigator.geolocation.getCurrentPosition(l=>{const{latitude:o,longitude:s}=l.coords;P.value.latitude=o,P.value.longitude=s,a=w.map("map").setView([o,s],13),w.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(a),w.marker([o,s]).addTo(a).bindPopup("You are here"),ct.forEach(({latitude:r,longitude:p,title:d,description:f})=>{w.marker([r,p]).addTo(a).bindPopup(`<strong>${d}</strong><br>${f}`)}),U.value.forEach(({latitude:r,longitude:p})=>{w.marker([r,p]).addTo(a).bindPopup(`Saved Marker at (<strong>${r.toFixed(2)},${p.toFixed(2)}</strong>)`)}),a.addEventListener("click",r=>{const{lat:p,lng:d}=r.latlng;w.marker([p,d]).addTo(a).bindPopup(`Saved Marker at (<strong>${p.toFixed(2)},${d.toFixed(2)}</strong>)`),U.value.push({latitude:p,longitude:d})})},l=>{console.error("Geolocation error:",l),alert("Could not retrieve your location. The map will use a default location."),P.value.latitude=46.8182,P.value.longitude=8.2275,a=w.map("map").setView([P.value.latitude,P.value.longitude],13),w.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(a),w.marker([P.value.latitude,P.value.longitude]).addTo(a).bindPopup("Default Location")})}),(l,o)=>(Te(),_e("div",mt,[o[3]||(o[3]=Ae("div",{id:"map"},null,-1)),c(vt,{class:"map-controls",elevation:"2","max-width":"300"},{default:k(()=>[c(dt,null,{default:k(()=>[c(D,null,{default:k(()=>[c(te,{start:""},{default:k(()=>o[1]||(o[1]=[G("mdi-map-marker")])),_:1}),o[2]||(o[2]=G(" Map Controls "))]),_:1}),c(M,null,{default:k(()=>[c(Ge,{"append-inner-icon":"mdi-crosshairs-gps",variant:"outlined",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s),label:"Search Location","prepend-icon":"mdi-magnify",onKeyup:Ie(n,["enter"]),clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]))}}),Et=Je(gt,[["__scopeId","data-v-9eaf83d8"]]);export{Et as default};
